<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    ã€ŒCodeForces  1239Cã€ Queue in the Train | dinnerhunt
</title>
<link rel="shortcut icon" href="https://dinnerhunt.cn/favicon.ico?v=1654671103475">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://dinnerhunt.cn/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://dinnerhunt.cn/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/stackoverflow-light.min.css">

<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://dinnerhunt.cn">
                <img class="avatar" src="https://dinnerhunt.cn/images/avatar.png?v=1654671103475" alt="">
            </a>
            <div class="site-title">
                <h1>
                    dinnerhunt
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    é¦–é¡µ
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    å½’æ¡£
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    æ ‡ç­¾
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    å…³äº
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/friend" class="menu">
                                    å‹é“¾
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            ã€ŒCodeForces  1239Cã€ Queue in the Train
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2019-10-26</time>
                            
                                <a href="https://dinnerhunt.cn/tag/sTnZXOcM0/" class="post-tag i-tag
                            i-tag-success">
                            #æ¨¡æ‹Ÿ
                        </a>
                                
                                <a href="https://dinnerhunt.cn/tag/UvxBOp35o/" class="post-tag i-tag
                            i-tag-primary">
                            #è´ªå¿ƒ
                        </a>
                                
                        </div>
                        
                                <div class="post-content">
                                    <p>There are ğ‘› seats in the train's car and there is exactly one passenger occupying every seat. The seats are numbered from 1 to ğ‘› from left to right. The trip is long, so each passenger will become hungry at some moment of time and will go to take boiled water for his noodles. The person at seat ğ‘– (1â‰¤ğ‘–â‰¤ğ‘›) will decide to go for boiled water at minute ğ‘¡ğ‘–.</p>
<p>Tank with a boiled water is located to the left of the 1-st seat. In case too many passengers will go for boiled water simultaneously, they will form a queue, since there can be only one passenger using the tank at each particular moment of time. Each passenger uses the tank for exactly ğ‘ minutes. We assume that the time it takes passengers to go from their seat to the tank is negligibly small.</p>
<!--more-->
<p>Nobody likes to stand in a queue. So when the passenger occupying the ğ‘–-th seat wants to go for a boiled water, he will first take a look on all seats from 1 to ğ‘–âˆ’1. In case at least one of those seats is empty, he assumes that those people are standing in a queue right now, so he would be better seating for the time being. However, at the very first moment he observes that all seats with numbers smaller than ğ‘– are busy, he will go to the tank.</p>
<p>There is an unspoken rule, that in case at some moment several people can go to the tank, than only the leftmost of them (that is, seating on the seat with smallest number) will go to the tank, while all others will wait for the next moment.</p>
<p>Your goal is to find for each passenger, when he will receive the boiled water for his noodles.</p>
<h4 id="é“¾æ¥">é“¾æ¥ğŸ”—</h4>
<p><a href="https://codeforces.com/contest/1239/problem/C">ã€ŒCodeForces  1239Cã€ Queue in the Train</a></p>
<h4 id="é¢˜è§£">é¢˜è§£</h4>
<p>æœ‰ç‚¹ç‚¹ç»•çš„æ¨¡æ‹Ÿé¢˜ï¼Œä¸»è¦ç»´æŠ¤å¥½ï¼Œåœ¨åº§ä½ä¸Šç­‰å¾…å’Œåœ¨æ‰“æ°´å£æ’é˜Ÿçš„äººçš„é˜Ÿåˆ—å°±å¥½</p>
<h4 id="ä»£ç ">ä»£ç </h4>
<pre><code class="language-cpp">#include &lt;cstdio&gt;
#include &lt;queue&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
using namespace std;
const int maxd = 1e5+10;
int n,k;
typedef pair&lt;int,int&gt; P;
priority_queue&lt;int,vector&lt;int&gt;,greater&lt;int&gt; &gt; sma;
queue&lt;int&gt; que;
vector&lt;P&gt; a;
long long ans[maxd];
int main()
{
    // freopen(&quot;a.in&quot;,&quot;r&quot;,stdin);
    // freopen(&quot;k.out&quot;,&quot;w&quot;,stdout);
    scanf(&quot;%d %d&quot;,&amp;n,&amp;k);
    for(int i=0;i&lt;n;i++)
    {
        int x;scanf(&quot;%d&quot;,&amp;x);
        a.push_back(P(x,i));
    }
    sort(a.begin(),a.end());
    long long now = 0ll;
    int cnt=0,idx=0;
    while(cnt &lt; n)
    {
        if(que.empty() &amp;&amp; sma.empty()) now = a[idx].first;
        //å¦‚æœå½“å‰é˜Ÿåˆ—éƒ½ä¸ºç©ºï¼Œé‚£ä¹ˆèµ·å§‹æ—¶é—´ä¸º a[idx].first;
        while(idx &lt; n &amp;&amp; a[idx].first &lt;= now+k)
        {
            //ç¼–å·æ²¡æœ‰ç¼–å·å°äºä»–çš„åœ¨æ’é˜Ÿ
            // å› ä¸ºæ¯æ¬¡é€‰ç¼–å·æœ€å°çš„å…¥æ’é˜Ÿé˜Ÿåˆ—ï¼Œæ‰€ä»¥queä¿è¯æ˜¯ä¸ªå•è°ƒé€’å‡é˜Ÿåˆ—
            if(que.empty() || que.back() &gt; a[idx].second)
                que.push(a[idx++].second);
            // ä¸ç„¶åœ¨åº§ä½ä¸Šç­‰å¾…
            else sma.push(a[idx++].second);
        }
        //æ¥æ°´æ—¶é—´
        now += k;
        ans[que.front()] = now; que.pop();
        cnt++;
        //å¦‚æœæ²¡äººæ’é˜Ÿï¼Œé‚£ä¹ˆåº§ä½ä¸Šç¼–å·æœ€å°çš„äººä¸Šå»æ’é˜Ÿ
        if(que.empty() &amp;&amp; !sma.empty())
        {
            que.push(sma.top()); 
            sma.pop();
        }
    }
    for(int i=0;i&lt;n;i++)
        printf(&quot;%lld &quot;,ans[i]);
    return 0;
}
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">ç›®å½•</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#%E9%93%BE%E6%8E%A5">é“¾æ¥ğŸ”—</a></li>
<li><a href="#%E9%A2%98%E8%A7%A3">é¢˜è§£</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">ä»£ç </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*è·å–æ–‡ç« ç›®å½•é›†åˆ,å¯é€šè¿‡:headerè¿‡æ»¤å™¨*/
                var alis = $('.post-content :header');
                /*è·å–ä¾§è¾¹æ ç›®å½•åˆ—è¡¨é›†åˆ**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*è·å–æ»šåŠ¨æ¡åˆ°é¡¶éƒ¨çš„è·ç¦»*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*è·å–é”šç‚¹é›†åˆä¸­çš„å…ƒç´ åˆ†åˆ«åˆ°é¡¶ç‚¹çš„è·ç¦»*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*é«˜äº®æ˜¾ç¤º*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*ç»‘å®šæ»šåŠ¨äº‹ä»¶ */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.css" integrity="sha384-b/NoaeRXkMxyKcrDw2KtVtYKkVg3dA0rTRgLoV7W2df3MzeR1eHLTi+l4//4fMwk" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.js" integrity="sha384-ern5NCRqs6nJ/a4Ik0nB9hnKVH5HwV2XRUYdQl09OB/vvd1Lmmqbg1Mh+mYUclXx" crossorigin="anonymous"></script> | 
  <a class="rss" href="https://dinnerhunt.cn/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
</body>

</html>