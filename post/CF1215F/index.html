<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    ã€ŒCodeForces 1215Fã€ Radio Stations | dinnerhunt
</title>
<link rel="shortcut icon" href="https://dinnerhunt.cn/favicon.ico?v=1654671103475">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://dinnerhunt.cn/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://dinnerhunt.cn/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/stackoverflow-light.min.css">

<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://dinnerhunt.cn">
                <img class="avatar" src="https://dinnerhunt.cn/images/avatar.png?v=1654671103475" alt="">
            </a>
            <div class="site-title">
                <h1>
                    dinnerhunt
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    é¦–é¡µ
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    å½’æ¡£
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    æ ‡ç­¾
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    å…³äº
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/friend" class="menu">
                                    å‹é“¾
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            ã€ŒCodeForces 1215Fã€ Radio Stations
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2019-12-28</time>
                            
                                <a href="https://dinnerhunt.cn/tag/4-INADLfj/" class="post-tag i-tag
                            i-tag-primary">
                            #2-SAT
                        </a>
                                
                        </div>
                        
                                <div class="post-content">
                                    <p>In addition to complaints about lighting, a lot of complaints about insufficient radio signal covering has been received by Bertown city hall recently. ğ‘› complaints were sent to the mayor, all of which are suspiciosly similar to each other: in the ğ‘–-th complaint, one of the radio fans has mentioned that the signals of two radio stations ğ‘¥ğ‘– and ğ‘¦ğ‘– are not covering some parts of the city, and demanded that the signal of at least one of these stations can be received in the whole city.</p>
<!--more-->
<p>Of cousre, the mayor of Bertown is currently working to satisfy these complaints. A new radio tower has been installed in Bertown, it can transmit a signal with any integer power from 1 to ğ‘€ (let's denote the signal power as ğ‘“). The mayor has decided that he will choose a set of radio stations and establish a contract with every chosen station. To establish a contract with the ğ‘–-th station, the following conditions should be met:</p>
<p>the signal power ğ‘“ should be not less than ğ‘™ğ‘–, otherwise the signal of the ğ‘–-th station won't cover the whole city;<br>
the signal power ğ‘“ should be not greater than ğ‘Ÿğ‘–, otherwise the signal will be received by the residents of other towns which haven't established a contract with the ğ‘–-th station.<br>
All this information was already enough for the mayor to realise that choosing the stations is hard. But after consulting with specialists, he learned that some stations the signals of some stations may interfere with each other: there are ğ‘š pairs of stations (ğ‘¢ğ‘–, ğ‘£ğ‘–) that use the same signal frequencies, and for each such pair it is impossible to establish contracts with both stations. If stations ğ‘¥ and ğ‘¦ use the same frequencies, and ğ‘¦ and ğ‘§ use the same frequencies, it does not imply that ğ‘¥ and ğ‘§ use the same frequencies.</p>
<p>The mayor finds it really hard to analyze this situation, so he hired you to help him. You have to choose signal power ğ‘“ and a set of stations to establish contracts with such that:</p>
<p>all complaints are satisfied (formally, for every ğ‘–âˆˆ[1,ğ‘›] the city establishes a contract either with station ğ‘¥ğ‘–, or with station ğ‘¦ğ‘–);<br>
no two chosen stations interfere with each other (formally, for every ğ‘–âˆˆ[1,ğ‘š] the city does not establish a contract either with station ğ‘¢ğ‘–, or with station ğ‘£ğ‘–);<br>
for each chosen station, the conditions on signal power are met (formally, for each chosen station ğ‘– the condition ğ‘™ğ‘–â‰¤ğ‘“â‰¤ğ‘Ÿğ‘– is met).</p>
<h4 id="é“¾æ¥">é“¾æ¥ğŸ”—</h4>
<p><a href="https://vjudge.net/problem/1673480/origin">ã€ŒCodeForces 1007Bã€Pave the Parallelepiped</a></p>
<h4 id="é¢˜è§£">é¢˜è§£</h4>
<p>å‚è§blog<br>
<a href="https://www.luogu.com.cn/blog/Sooke/solution-cf1215f">Sookeå·¨ä½¬</a></p>
<h4 id="ä»£ç ">ä»£ç </h4>
<pre><code class="language-cpp">const ll maxd = 2e6+10;

V G[maxd];
ll dfn[maxd],low[maxd],belong[maxd],s[maxd],top,scc,idx;
ll m0,n,m,m1;
bool ins[maxd];

void tarjan(int u)
{
    dfn[u] = low[u] = ++idx;
    s[top++] = u;
    ins[u] = true;
    for(auto v:G[u])
    {
        if (!dfn[v])
        {
            tarjan(v);
            low[u] = min(low[u], low[v]);
        }
        else if (ins[v])
            low[u] = min(low[u], dfn[v]);
    }
    if(dfn[u] == low[u])
    {
        ++scc;
        do
        {
            belong[s[--top]] = scc;
            ins[s[top]] = false;
        } while (s[top] != u);
    }
}
ll yes(ll x){ return x&lt;&lt;1; }
ll no(ll x){ return x&lt;&lt;1|1; }

void insert(ll x,ll y)
{
    //PLP(x);PLN(y);
    G[x].pb(y);
    G[y^1].pb(x^1);
}
bool solve()
{
    FOR(i,0,no(n+m)) if(!dfn[i]) tarjan(i);
    FOR(i,0,n+m)
    {
        //PLN(belong[i]);
        if(belong[yes(i)] == belong[no(i)]) return false;
    }
    return true;
}
int main()
{
    //__IN;__OUT;
    ll x,y;
    RLL(m0);RLL(n);RLL(m);RLL(m1);
    F(m0)
    {
        RLL(x);RLL(y);x--,y--;
        insert(no(x),yes(y)); // å¦‚æœä¸é€‰xï¼Œåˆ™å¿…é¡»é€‰y
    }
    F(m) insert(yes(n+i),yes(n+i+1)); //
    insert(yes(n),no(n)); // ä½¿ 0 ä¸åˆæ³•
    F(n)
    {
        RLL(x);RLL(y);
        insert(yes(i),no(n+x-1)); // å¦‚æœé€‰iï¼Œåˆ™é¢‘æ®µä¸åœ¨ n+x-1èŒƒå›´å†…
        insert(yes(i),yes(n+y)); // ä¸”é¢‘æ®µåœ¨ n+yèŒƒå›´å†…
    }
    F(m1)
    {
        RLL(x);RLL(y); x--,y--;
        insert(yes(x),no(y)); // å¦‚æœé€‰äº†xï¼Œåˆ™ä¸èƒ½é€‰y
    }
    ll k = 0;
    if(solve())
    {
        F(n) if(belong[yes(i)] &lt; belong[no(i)]) k++;
        FOR(i,1,m)
            if(belong[yes(n+i)] &lt; belong[no(n+i)]) // é‡åˆ°åˆæ³•é€‰é¡¹
            {
                printf(&quot;%lld %lld\n&quot;,k,i);
                break;
            }

        F(n) if(belong[yes(i)] &lt; belong[no(i)]) PLP(i+1);
    }
    else PS(&quot;-1&quot;);

    return 0;
}
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">ç›®å½•</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#%E9%93%BE%E6%8E%A5">é“¾æ¥ğŸ”—</a></li>
<li><a href="#%E9%A2%98%E8%A7%A3">é¢˜è§£</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">ä»£ç </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*è·å–æ–‡ç« ç›®å½•é›†åˆ,å¯é€šè¿‡:headerè¿‡æ»¤å™¨*/
                var alis = $('.post-content :header');
                /*è·å–ä¾§è¾¹æ ç›®å½•åˆ—è¡¨é›†åˆ**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*è·å–æ»šåŠ¨æ¡åˆ°é¡¶éƒ¨çš„è·ç¦»*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*è·å–é”šç‚¹é›†åˆä¸­çš„å…ƒç´ åˆ†åˆ«åˆ°é¡¶ç‚¹çš„è·ç¦»*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*é«˜äº®æ˜¾ç¤º*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*ç»‘å®šæ»šåŠ¨äº‹ä»¶ */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.css" integrity="sha384-b/NoaeRXkMxyKcrDw2KtVtYKkVg3dA0rTRgLoV7W2df3MzeR1eHLTi+l4//4fMwk" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.js" integrity="sha384-ern5NCRqs6nJ/a4Ik0nB9hnKVH5HwV2XRUYdQl09OB/vvd1Lmmqbg1Mh+mYUclXx" crossorigin="anonymous"></script> | 
  <a class="rss" href="https://dinnerhunt.cn/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
</body>

</html>