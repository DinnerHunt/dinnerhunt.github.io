<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    「CodeForces 1215F」 Radio Stations | dinnerhunt
</title>
<link rel="shortcut icon" href="https://dinnerhunt.cn/favicon.ico?v=1654671103475">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://dinnerhunt.cn/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://dinnerhunt.cn/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/stackoverflow-light.min.css">

<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://dinnerhunt.cn">
                <img class="avatar" src="https://dinnerhunt.cn/images/avatar.png?v=1654671103475" alt="">
            </a>
            <div class="site-title">
                <h1>
                    dinnerhunt
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/friend" class="menu">
                                    友链
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            「CodeForces 1215F」 Radio Stations
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2019-12-28</time>
                            
                                <a href="https://dinnerhunt.cn/tag/4-INADLfj/" class="post-tag i-tag
                            i-tag-primary">
                            #2-SAT
                        </a>
                                
                        </div>
                        
                                <div class="post-content">
                                    <p>In addition to complaints about lighting, a lot of complaints about insufficient radio signal covering has been received by Bertown city hall recently. 𝑛 complaints were sent to the mayor, all of which are suspiciosly similar to each other: in the 𝑖-th complaint, one of the radio fans has mentioned that the signals of two radio stations 𝑥𝑖 and 𝑦𝑖 are not covering some parts of the city, and demanded that the signal of at least one of these stations can be received in the whole city.</p>
<!--more-->
<p>Of cousre, the mayor of Bertown is currently working to satisfy these complaints. A new radio tower has been installed in Bertown, it can transmit a signal with any integer power from 1 to 𝑀 (let's denote the signal power as 𝑓). The mayor has decided that he will choose a set of radio stations and establish a contract with every chosen station. To establish a contract with the 𝑖-th station, the following conditions should be met:</p>
<p>the signal power 𝑓 should be not less than 𝑙𝑖, otherwise the signal of the 𝑖-th station won't cover the whole city;<br>
the signal power 𝑓 should be not greater than 𝑟𝑖, otherwise the signal will be received by the residents of other towns which haven't established a contract with the 𝑖-th station.<br>
All this information was already enough for the mayor to realise that choosing the stations is hard. But after consulting with specialists, he learned that some stations the signals of some stations may interfere with each other: there are 𝑚 pairs of stations (𝑢𝑖, 𝑣𝑖) that use the same signal frequencies, and for each such pair it is impossible to establish contracts with both stations. If stations 𝑥 and 𝑦 use the same frequencies, and 𝑦 and 𝑧 use the same frequencies, it does not imply that 𝑥 and 𝑧 use the same frequencies.</p>
<p>The mayor finds it really hard to analyze this situation, so he hired you to help him. You have to choose signal power 𝑓 and a set of stations to establish contracts with such that:</p>
<p>all complaints are satisfied (formally, for every 𝑖∈[1,𝑛] the city establishes a contract either with station 𝑥𝑖, or with station 𝑦𝑖);<br>
no two chosen stations interfere with each other (formally, for every 𝑖∈[1,𝑚] the city does not establish a contract either with station 𝑢𝑖, or with station 𝑣𝑖);<br>
for each chosen station, the conditions on signal power are met (formally, for each chosen station 𝑖 the condition 𝑙𝑖≤𝑓≤𝑟𝑖 is met).</p>
<h4 id="链接">链接🔗</h4>
<p><a href="https://vjudge.net/problem/1673480/origin">「CodeForces 1007B」Pave the Parallelepiped</a></p>
<h4 id="题解">题解</h4>
<p>参见blog<br>
<a href="https://www.luogu.com.cn/blog/Sooke/solution-cf1215f">Sooke巨佬</a></p>
<h4 id="代码">代码</h4>
<pre><code class="language-cpp">const ll maxd = 2e6+10;

V G[maxd];
ll dfn[maxd],low[maxd],belong[maxd],s[maxd],top,scc,idx;
ll m0,n,m,m1;
bool ins[maxd];

void tarjan(int u)
{
    dfn[u] = low[u] = ++idx;
    s[top++] = u;
    ins[u] = true;
    for(auto v:G[u])
    {
        if (!dfn[v])
        {
            tarjan(v);
            low[u] = min(low[u], low[v]);
        }
        else if (ins[v])
            low[u] = min(low[u], dfn[v]);
    }
    if(dfn[u] == low[u])
    {
        ++scc;
        do
        {
            belong[s[--top]] = scc;
            ins[s[top]] = false;
        } while (s[top] != u);
    }
}
ll yes(ll x){ return x&lt;&lt;1; }
ll no(ll x){ return x&lt;&lt;1|1; }

void insert(ll x,ll y)
{
    //PLP(x);PLN(y);
    G[x].pb(y);
    G[y^1].pb(x^1);
}
bool solve()
{
    FOR(i,0,no(n+m)) if(!dfn[i]) tarjan(i);
    FOR(i,0,n+m)
    {
        //PLN(belong[i]);
        if(belong[yes(i)] == belong[no(i)]) return false;
    }
    return true;
}
int main()
{
    //__IN;__OUT;
    ll x,y;
    RLL(m0);RLL(n);RLL(m);RLL(m1);
    F(m0)
    {
        RLL(x);RLL(y);x--,y--;
        insert(no(x),yes(y)); // 如果不选x，则必须选y
    }
    F(m) insert(yes(n+i),yes(n+i+1)); //
    insert(yes(n),no(n)); // 使 0 不合法
    F(n)
    {
        RLL(x);RLL(y);
        insert(yes(i),no(n+x-1)); // 如果选i，则频段不在 n+x-1范围内
        insert(yes(i),yes(n+y)); // 且频段在 n+y范围内
    }
    F(m1)
    {
        RLL(x);RLL(y); x--,y--;
        insert(yes(x),no(y)); // 如果选了x，则不能选y
    }
    ll k = 0;
    if(solve())
    {
        F(n) if(belong[yes(i)] &lt; belong[no(i)]) k++;
        FOR(i,1,m)
            if(belong[yes(n+i)] &lt; belong[no(n+i)]) // 遇到合法选项
            {
                printf(&quot;%lld %lld\n&quot;,k,i);
                break;
            }

        F(n) if(belong[yes(i)] &lt; belong[no(i)]) PLP(i+1);
    }
    else PS(&quot;-1&quot;);

    return 0;
}
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#%E9%93%BE%E6%8E%A5">链接🔗</a></li>
<li><a href="#%E9%A2%98%E8%A7%A3">题解</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">代码</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*获取文章目录集合,可通过:header过滤器*/
                var alis = $('.post-content :header');
                /*获取侧边栏目录列表集合**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*获取滚动条到顶部的距离*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*获取锚点集合中的元素分别到顶点的距离*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*高亮显示*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*绑定滚动事件 */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.css" integrity="sha384-b/NoaeRXkMxyKcrDw2KtVtYKkVg3dA0rTRgLoV7W2df3MzeR1eHLTi+l4//4fMwk" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.js" integrity="sha384-ern5NCRqs6nJ/a4Ik0nB9hnKVH5HwV2XRUYdQl09OB/vvd1Lmmqbg1Mh+mYUclXx" crossorigin="anonymous"></script> | 
  <a class="rss" href="https://dinnerhunt.cn/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
</body>

</html>