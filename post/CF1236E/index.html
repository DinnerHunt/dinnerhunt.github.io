<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    ã€ŒCodeForces 1236Eã€Alice and the Unfair Game | dinnerhunt
</title>
<link rel="shortcut icon" href="https://dinnerhunt.cn/favicon.ico?v=1654671103475">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://dinnerhunt.cn/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://dinnerhunt.cn/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/stackoverflow-light.min.css">

<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://dinnerhunt.cn">
                <img class="avatar" src="https://dinnerhunt.cn/images/avatar.png?v=1654671103475" alt="">
            </a>
            <div class="site-title">
                <h1>
                    dinnerhunt
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    é¦–é¡µ
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    å½’æ¡£
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    æ ‡ç­¾
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    å…³äº
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/friend" class="menu">
                                    å‹é“¾
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            ã€ŒCodeForces 1236Eã€Alice and the Unfair Game
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2019-10-29</time>
                            
                                <a href="https://dinnerhunt.cn/tag/zRUj8NbTE/" class="post-tag i-tag
                            i-tag-error">
                            #DP
                        </a>
                                
                                <a href="https://dinnerhunt.cn/tag/2-eAhAI-t/" class="post-tag i-tag
                            i-tag-other_1">
                            #æ€ç»´
                        </a>
                                
                        </div>
                        
                                <div class="post-content">
                                    <p>Alice is playing a game with her good friend, Marisa.</p>
<p>There are ğ‘› boxes arranged in a line, numbered with integers from 1 to ğ‘› from left to right. Marisa will hide a doll in one of the boxes. Then Alice will have ğ‘š chances to guess where the doll is. If Alice will correctly guess the number of box, where doll is now, she will win the game, otherwise, her friend will win the game.</p>
<!--more-->
<p>In order to win, Marisa will use some unfair tricks. After each time Alice guesses a box, she can move the doll to the neighboring box or just keep it at its place. Boxes ğ‘– and ğ‘–+1 are neighboring for all 1â‰¤ğ‘–â‰¤ğ‘›âˆ’1. She can also use this trick once before the game starts.</p>
<p>So, the game happens in this order: the game starts, Marisa makes the trick, Alice makes the first guess, Marisa makes the trick, Alice makes the second guess, Marisa makes the trick, â€¦, Alice makes ğ‘š-th guess, Marisa makes the trick, the game ends.</p>
<p>Alice has come up with a sequence ğ‘1,ğ‘2,â€¦,ğ‘ğ‘š. In the ğ‘–-th guess, she will ask if the doll is in the box ğ‘ğ‘–. She wants to know the number of scenarios (ğ‘¥,ğ‘¦) (for all 1â‰¤ğ‘¥,ğ‘¦â‰¤ğ‘›), such that Marisa can win the game if she will put the doll at the ğ‘¥-th box at the beginning and at the end of the game, the doll will be at the ğ‘¦-th box. Help her and calculate this number.</p>
<h4 id="é“¾æ¥">é“¾æ¥ğŸ”—</h4>
<p><a href="https://codeforces.com/problemset/problem/1236/E">ã€ŒCodeForces 1236Eã€Alice and the Unfair Game</a></p>
<h4 id="é¢˜è§£">é¢˜è§£</h4>
<p><a href="https://www.cnblogs.com/bxd123/p/11699162.html">ä»£ç ç†è§£æ¥è‡³</a><br>
å¾ˆæŠ½è±¡ï¼Œä¸Šé¢é¢˜è§£è®²çš„å¾ˆå¥½ï¼Œè€ƒè™‘ç”»å›¾ç†è§£ä¸€ä¸‹</p>
<h4 id="ä»£ç ">ä»£ç </h4>
<pre><code class="language-cpp">#include &lt;cstdio&gt;
#include &lt;map&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
using namespace std;
const int maxd = 1e5;

int a[maxd*3+10],n,m,l[maxd*3+10],r[maxd*3+10];
//3å€æ–¹ä¾¿å¤„ç†å·¦å³
int main()
{
    // freopen(&quot;a.in&quot;,&quot;r&quot;,stdin);
    // freopen(&quot;k.out&quot;,&quot;w&quot;,stdout);
    int n,m;scanf(&quot;%d %d&quot;,&amp;n,&amp;m);
    if(n==1){printf(&quot;0\n&quot;); return 0;}
    for(int i=1;i&lt;=m;i++) scanf(&quot;%d&quot;,&amp;a[i]);
    for(int i=m;i&gt;=1;i--)
    {
        l[i+a[i]+maxd] = l[i+a[i]+1+maxd] +1;
        r[a[i]-i+maxd] = r[a[i]-i-1+maxd] +1;
    }
    long long ans = 0ll;
    for(int i=1;i&lt;=n;i++)
    {
        int ll = max(1,i-(m+1)+l[i+maxd]);
        int rr = min(n,i+(m+1)-r[i+maxd]);
        ans += 1ll * (rr-ll+1);
    }
    printf(&quot;%lld\n&quot;,ans);
    return 0;
}
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">ç›®å½•</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#%E9%93%BE%E6%8E%A5">é“¾æ¥ğŸ”—</a></li>
<li><a href="#%E9%A2%98%E8%A7%A3">é¢˜è§£</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">ä»£ç </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*è·å–æ–‡ç« ç›®å½•é›†åˆ,å¯é€šè¿‡:headerè¿‡æ»¤å™¨*/
                var alis = $('.post-content :header');
                /*è·å–ä¾§è¾¹æ ç›®å½•åˆ—è¡¨é›†åˆ**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*è·å–æ»šåŠ¨æ¡åˆ°é¡¶éƒ¨çš„è·ç¦»*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*è·å–é”šç‚¹é›†åˆä¸­çš„å…ƒç´ åˆ†åˆ«åˆ°é¡¶ç‚¹çš„è·ç¦»*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*é«˜äº®æ˜¾ç¤º*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*ç»‘å®šæ»šåŠ¨äº‹ä»¶ */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.css" integrity="sha384-b/NoaeRXkMxyKcrDw2KtVtYKkVg3dA0rTRgLoV7W2df3MzeR1eHLTi+l4//4fMwk" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.js" integrity="sha384-ern5NCRqs6nJ/a4Ik0nB9hnKVH5HwV2XRUYdQl09OB/vvd1Lmmqbg1Mh+mYUclXx" crossorigin="anonymous"></script> | 
  <a class="rss" href="https://dinnerhunt.cn/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
</body>

</html>