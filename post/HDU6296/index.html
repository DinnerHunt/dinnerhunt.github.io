<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    ã€ŒHDU 6296ã€ä»£ç æ´¾å¯¹ | dinnerhunt
</title>
<link rel="shortcut icon" href="https://dinnerhunt.cn/favicon.ico?v=1654671103475">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://dinnerhunt.cn/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://dinnerhunt.cn/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/stackoverflow-light.min.css">

<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://dinnerhunt.cn">
                <img class="avatar" src="https://dinnerhunt.cn/images/avatar.png?v=1654671103475" alt="">
            </a>
            <div class="site-title">
                <h1>
                    dinnerhunt
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    é¦–é¡µ
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    å½’æ¡£
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    æ ‡ç­¾
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    å…³äº
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/friend" class="menu">
                                    å‹é“¾
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            ã€ŒHDU 6296ã€ä»£ç æ´¾å¯¹
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2020-03-19</time>
                            
                                <a href="https://dinnerhunt.cn/tag/-B-E5SoA7/" class="post-tag i-tag
                            i-tag-error">
                            #å‰ç¼€å’Œ
                        </a>
                                
                                <a href="https://dinnerhunt.cn/tag/iO4MbBtKg/" class="post-tag i-tag
                            i-tag-other_3">
                            #ç»„åˆæ•°å­¦
                        </a>
                                
                        </div>
                        
                                <div class="post-content">
                                    <p>æ¯”ç‰¹é•‡çš„ç®—æ³•ç«èµ›é€‰æ‰‹ä»¬åº”é‚€æ¥åˆ°äº†å°Qå®¶ä¸­å‚åŠ ç››å¤§çš„&quot;ä»£ç æ´¾å¯¹&quot;ã€‚å°Qè®¡åˆ’åœ¨å®¶ä¸­ä¸¾è¡Œä¸€åœºACMèµ›åˆ¶çš„è”è°Šèµ›ï¼Œ3ä¸ªäººä¸ºä¸€é˜Ÿè¿›è¡Œæ¯”èµ›ã€‚</p>
<!--more-->
<p>ä¸ºäº†è®©æ¯”èµ›æ›´åŠ æœ‰è¶£ï¼Œä¹Ÿä¸ºäº†è®©å¤§å®¶èƒ½å¤šå¤šäº†è§£ä»–äººï¼Œå°Qåœ¨èŠ±å›­çš„åœ°ä¸Šç”»å‡ºäº†ä¸€ä¸ª1000Ã—1000çš„ç½‘æ ¼å›¾ï¼Œä»ä¸Šå¾€ä¸‹ä¾æ¬¡ç¼–å·ä¸ºç¬¬1è¡Œåˆ°ç¬¬1000è¡Œï¼Œä»å·¦å¾€å³ä¾æ¬¡ç¼–å·ä¸ºç¬¬1åˆ—åˆ°ç¬¬1000åˆ—ã€‚å°Qè®©æ¯ä¸€åé€‰æ‰‹é€‰æ‹©ä¸€ä¸ªç½‘æ ¼å›¾å†…å¹³è¡Œåæ ‡è½´çš„å­çŸ©å½¢(x1,y1)âˆ’(x2,y2)ï¼Œè¡¨ç¤ºä»¥(x1,y1)å’Œ(x2,y2)ä¸ºå¯¹é¡¶ç‚¹çš„çŸ©å½¢ï¼ŒåŒ…å«æ‰€æœ‰æ»¡è¶³xâˆˆ[x1,x2]ä¸”yâˆˆ[y1,y2]çš„æ ¼å­ã€‚</p>
<p>å°Qè§„å®šï¼Œi,j,k(1â‰¤i &lt; j &lt; k â‰¤n)ä¸‰äººç»„æˆä¸€æ”¯ä¸‰äººé˜Ÿä¼èƒ½å‚èµ›ï¼Œå½“ä¸”ä»…å½“è¿™ä¸‰ä¸ªäººé€‰æ‹©çš„å­çŸ©å½¢åŒ…å«è‡³å°‘ä¸€ä¸ªå…¬å…±æ ¼å­ã€‚è¯·å†™ä¸€ä¸ªç¨‹åºï¼Œå¸®åŠ©å°Qç»Ÿè®¡æœ‰å¤šå°‘ç§ä¸‰äººç»„åˆç»„æˆçš„é˜Ÿä¼å¯ä»¥å‚èµ›ã€‚</p>
<h4 id="é“¾æ¥">é“¾æ¥ ğŸ”—</h4>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6296">ã€ŒHDU 6296ã€ä»£ç æ´¾å¯¹</a></p>
<h4 id="é¢˜è§£">é¢˜è§£  â“</h4>
<p>ä¸€é“éå¸¸å¦™çš„é¢˜ç›®<br>
é¦–å…ˆå¯ä»¥åšä¸€æ¬¡äºŒç»´å‰ç¼€å’Œï¼Œç„¶åå¯¹äºæ¯ä¸ªæ ¼å­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i,j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span>å¯ä»¥å¾—åˆ°æ–¹æ¡ˆæ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>C</mi><mrow><mi>a</mi><mo>[</mo><mi>i</mi><mo>]</mo><mo>[</mo><mi>j</mi><mo>]</mo></mrow><mn>3</mn></msubsup></mrow><annotation encoding="application/x-tex">C_{a[i][j]}^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111079999999997em;vertical-align:-0.49699999999999994em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999998em;"><span style="top:-2.378em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="mopen mtight">[</span><span class="mord mathdefault mtight">i</span><span class="mclose mtight">]</span><span class="mopen mtight">[</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">]</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.49699999999999994em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè®¡ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">S_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br>
ä½†å¾ˆæ˜¾ç„¶ï¼Œè¿™æ ·ä¼šé‡å¤ç»Ÿè®¡ï¼Œæ¯”å¦‚ä¸¤ä¸ªçŸ©é˜µäº¤äºå¤šä¸ªæ ¼å­<br>
äºæ˜¯æˆ‘ä»¬è€ƒè™‘æ±‚å‡ºé‡å¤çš„æ•°é‡<br>
å¯¹äºæ¯ä¸ªçŸ©é˜µ<br>
å°†å…¶æœ€å·¦è¾¹ä¸€åˆ—å»æ‰ï¼Œè¿›è¡Œä¸€æ¬¡ç»Ÿè®¡æ–¹æ¡ˆæ•°ï¼Œè®¡ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">S_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br>
å°†å…¶æœ€ä¸Šæ–¹ä¸€åˆ—å»æ‰ï¼Œè¿›è¡Œä¸€æ¬¡ç»Ÿè®¡æ–¹æ¡ˆæ•°ï¼Œè®¡ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">S_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br>
å°†å…¶æœ€ä¸Šæ–¹ä¸€åˆ—å’Œå·¦æ–¹ä¸€åˆ—å»æ‰ï¼Œå†è¿›è¡Œä¸€æ¬¡ç»Ÿè®¡æ–¹æ¡ˆæ•°ï¼Œè®¡ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">S_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br>
ç­”æ¡ˆåˆ™ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub><mo>âˆ’</mo><msub><mi>S</mi><mn>1</mn></msub><mo>âˆ’</mo><msub><mi>S</mi><mn>2</mn></msub><mo>+</mo><msub><mi>S</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">S_0 - S_1 - S_2 +S_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<h4 id="ä»£ç ">ä»£ç </h4>
<pre><code class="language-cpp">const ll N = 1e5+10,M = 1e3+10;
const ll mod = 998244353;
ll C[N],a[N][5],pre[M][M],n;
ll gao(ll x,ll y)
{
    ll ans = 0;MM(pre,0);
    FOR(i,1,n)
    {
        ll x1 = a[i][1] + x ,y1 = a[i][2] + y ,x2 = a[i][3],y2 = a[i][4];
        pre[x1][y1]++; pre[x2+1][y2+1]++;
        pre[x2+1][y1]--;pre[x1][y2+1]--;
    }
    FOR(i,1,M-1) FOR(j,1,M-1) pre[i][j] += pre[i][j-1] + pre[i-1][j] - pre[i-1][j-1] ,ans+=C[pre[i][j]];
//    PLN(ans);
    return ans;
}
int main()
{
//    __IN;__OUT
    FOR(i,3,N-1) C[i] = i*(i-1)/2*(i-2)/3;
    ll T;RLL(T);
    while(T--)
    {
        RLL(n);
        FOR(i,1,n) FOR(j,1,4)  RLL(a[i][j]);
        PLN(gao(0,0)-gao(0,1)-gao(1,0)+gao(1,1));
    }
    return 0;
}
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">ç›®å½•</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#%E9%93%BE%E6%8E%A5">é“¾æ¥ ğŸ”—</a></li>
<li><a href="#%E9%A2%98%E8%A7%A3">é¢˜è§£  â“</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">ä»£ç </a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*è·å–æ–‡ç« ç›®å½•é›†åˆ,å¯é€šè¿‡:headerè¿‡æ»¤å™¨*/
                var alis = $('.post-content :header');
                /*è·å–ä¾§è¾¹æ ç›®å½•åˆ—è¡¨é›†åˆ**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*è·å–æ»šåŠ¨æ¡åˆ°é¡¶éƒ¨çš„è·ç¦»*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*è·å–é”šç‚¹é›†åˆä¸­çš„å…ƒç´ åˆ†åˆ«åˆ°é¡¶ç‚¹çš„è·ç¦»*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*é«˜äº®æ˜¾ç¤º*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*ç»‘å®šæ»šåŠ¨äº‹ä»¶ */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.css" integrity="sha384-b/NoaeRXkMxyKcrDw2KtVtYKkVg3dA0rTRgLoV7W2df3MzeR1eHLTi+l4//4fMwk" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.js" integrity="sha384-ern5NCRqs6nJ/a4Ik0nB9hnKVH5HwV2XRUYdQl09OB/vvd1Lmmqbg1Mh+mYUclXx" crossorigin="anonymous"></script> | 
  <a class="rss" href="https://dinnerhunt.cn/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
</body>

</html>